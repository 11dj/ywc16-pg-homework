{"ast":null,"code":"import _classCallCheck from \"/Users/kittis/project/ywc/tiewnaidy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/kittis/project/ywc/tiewnaidy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/kittis/project/ywc/tiewnaidy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/kittis/project/ywc/tiewnaidy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/kittis/project/ywc/tiewnaidy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/kittis/project/ywc/tiewnaidy/client/src/components/dataList.js\";\nimport React, { Component } from 'react';\nimport './dataList.css';\n\nvar DataList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(DataList, _Component);\n\n  function DataList(props) {\n    var _this;\n\n    _classCallCheck(this, DataList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DataList).call(this, props));\n    _this.state = {\n      initialArray: _this.props.option,\n      currentArray: _this.props.option,\n      value: _this.props.value,\n      isChangeOpt: true\n    };\n    return _this;\n  }\n\n  _createClass(DataList, [{\n    key: \"onChangeInput\",\n    value: function onChangeInput(e) {\n      console.log(e.target.value);\n      var noOpt = document.getElementById('no-option');\n      this.props.onInputChange(e.target.value);\n      var str = e.target.value.toLowerCase();\n      var curPart = this.state.initialArray;\n      var newPart = curPart.filter(function (x) {\n        return x ? new RegExp(str).test(x.toLowerCase()) : '';\n      });\n\n      if (!newPart.length) {\n        noOpt.style.display = 'block';\n      } else {\n        noOpt.style.display = 'none';\n      }\n\n      this.setState({\n        currentArray: newPart,\n        value: e.target.value,\n        isChangeOpt: false\n      });\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.option !== this.props.option && this.state.isChangeOpt) {\n        this.setState({\n          initialArray: nextProps.option,\n          currentArray: nextProps.option\n        });\n      }\n\n      if (nextProps.value !== this.props.value) {\n        this.setState({\n          value: nextProps.value\n        });\n      }\n    }\n  }, {\n    key: \"act\",\n    value: function act(e) {\n      if (e.type === 'focus') {\n        document.getElementById(this.props.styleContainer).style.display = 'block';\n        document.getElementById(this.props.id).value = ''; // this.setState({ value: '' })\n      } else if (e.type === 'blur') {\n        document.getElementById(this.props.styleContainer).style.display = 'none';\n        document.getElementById('no-option').style.display = 'none';\n        this.setState({\n          currentArray: this.state.initialArray\n        });\n      }\n    }\n  }, {\n    key: \"getDatalist\",\n    value: function getDatalist(e) {\n      this.props.onInputChange(e.target.textContent);\n      this.setState({\n        value: e.target.textContent\n      });\n      document.getElementById(this.props.styleContainer).style.display = 'none';\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: this.props.styleContainer,\n        onBlur: this.act.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: this.props.styleInput,\n        id: this.props.id,\n        placeholder: this.props.placeholder,\n        onChange: this.onChangeInput.bind(this),\n        onFocus: this.act.bind(this),\n        value: this.state.value,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"st-datalist\",\n        id: this.props.styleContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"st-datalist-option\",\n        style: {\n          display: 'none'\n        },\n        id: \"no-option\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"\\u0E44\\u0E21\\u0E48\\u0E1E\\u0E1A\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\"), (this.state.currentArray ? this.state.currentArray.slice(0, 20) : []).map(function (x, i) {\n        return React.createElement(\"div\", {\n          key: i,\n          className: \"st-datalist-option\",\n          value: \"\".concat(x),\n          onMouseDown: _this2.getDatalist.bind(_this2),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, x);\n      })));\n    }\n  }]);\n\n  return DataList;\n}(Component);\n\nexport { DataList as default };","map":{"version":3,"sources":["/Users/kittis/project/ywc/tiewnaidy/client/src/components/dataList.js"],"names":["React","Component","DataList","props","state","initialArray","option","currentArray","value","isChangeOpt","e","console","log","target","noOpt","document","getElementById","onInputChange","str","toLowerCase","curPart","newPart","filter","x","RegExp","test","length","style","display","setState","nextProps","type","styleContainer","id","textContent","act","bind","styleInput","placeholder","onChangeInput","slice","map","i","getDatalist"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n\nimport './dataList.css'\n\nexport default class DataList extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      initialArray: this.props.option,\n      currentArray: this.props.option,\n      value: this.props.value,\n      isChangeOpt: true\n    }\n  }\n\n  onChangeInput (e) {\n    console.log(e.target.value)\n    let noOpt = document.getElementById('no-option')\n    this.props.onInputChange(e.target.value)\n    let str = (e.target.value).toLowerCase()\n    let curPart = this.state.initialArray\n    let newPart = curPart.filter(x =>\n      x ? new RegExp(str).test(x.toLowerCase()) : ''\n    )\n    if (!newPart.length) {\n      noOpt.style.display = 'block'\n    } else {\n      noOpt.style.display = 'none'\n    }\n    this.setState({ currentArray: newPart, value: e.target.value, isChangeOpt: false })\n  }\n\n  componentWillReceiveProps (nextProps) {\n    if (nextProps.option !== this.props.option && this.state.isChangeOpt) {\n      this.setState({\n        initialArray: nextProps.option,\n        currentArray: nextProps.option\n      })\n    }\n    if (nextProps.value !== this.props.value) {\n      this.setState({ value: nextProps.value })\n    }\n  }\n\n  act (e) {\n    if (e.type === 'focus') {\n      document.getElementById(this.props.styleContainer).style.display = 'block'\n      document.getElementById(this.props.id).value = ''\n      // this.setState({ value: '' })\n    } else if ((e.type === 'blur')) {\n      document.getElementById(this.props.styleContainer).style.display = 'none'\n      document.getElementById('no-option').style.display = 'none'\n      this.setState({ currentArray: this.state.initialArray })\n    }\n  }\n\n  getDatalist (e) {\n    this.props.onInputChange(e.target.textContent)\n    this.setState({ value: e.target.textContent })\n    document.getElementById(this.props.styleContainer).style.display = 'none'\n  }\n\n  render () {\n    return (\n      <div className={this.props.styleContainer} onBlur={this.act.bind(this)} >\n        <input\n          className={this.props.styleInput}\n          id={this.props.id}\n          placeholder={this.props.placeholder}\n          onChange={this.onChangeInput.bind(this)}\n          onFocus={this.act.bind(this)}\n          value={this.state.value}\n          />\n        <div className=\"st-datalist\" id={this.props.styleContainer}>\n          <div className=\"st-datalist-option\"\n            style={{display: 'none'}}\n            id='no-option'>ไม่พบข้อมูล</div>\n          {\n            (this.state.currentArray ? this.state.currentArray.slice(0, 20) : []).map((x, i) =>\n            <div key={i}\n              className=\"st-datalist-option\"\n              value={`${x}`}\n              onMouseDown={this.getDatalist.bind(this)}>\n              {x}\n            </div>\n            )\n          }\n        </div>\n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}